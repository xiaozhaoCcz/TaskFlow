# 🎨 可视化使用指南

## 界面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│  🚀 可视化工作流构建器           [清空] [运行工作流]                     │
├────────────┬────────────────────────────────────────────────────────┤
│            │                                                         │
│ 📦 任务组件 │              工作流画布 (0个任务)                        │
│            │                                                         │
│ ═基础任务═ │   ┌──────────────────────────────────────────┐         │
│            │   │                                          │         │
│ 🌐 打开网页 │   │        📦 从左侧拖拽任务到这里            │         │
│ 👆 点击元素 │   │          开始构建工作流                   │         │
│ ⌨️  输入文本 │   │                                          │         │
│ ⏱️  等待    │   │                                          │         │
│ 📝 获取文本 │   │                                          │         │
│ 📸 截图    │   │                                          │         │
│            │   └──────────────────────────────────────────┘         │
│ ═控制流═   │                                                         │
│            │                                                         │
│ ❓ IF条件  │                                                         │
│ 🔄 WHILE   │                                                         │
│ 📋 FOREACH │                                                         │
│ 🛡️  TRY     │                                                         │
│            │                                                         │
└────────────┴─────────────────────────────────────────────────────────┘
```

## 🎯 操作流程

### 第1步：拖拽任务

```
    左侧面板                      右侧画布
┌──────────────┐              ┌──────────────┐
│  🌐 打开网页  │   拖拽 ──>   │  🌐 打开网页  │
│              │              │  URL: ...    │
└──────────────┘              └──────────────┘
```

### 第2步：配置任务

```
点击任务展开配置

┌───────────────────────────────────┐
│ 🌐 打开网页                    [▼] │
├───────────────────────────────────┤
│ 配置：                            │
│                                   │
│ 网址：                            │
│ ┌───────────────────────────────┐ │
│ │ https://www.baidu.com         │ │
│ └───────────────────────────────┘ │
└───────────────────────────────────┘
```

### 第3步：添加更多任务

```
从上往下构建工作流

┌──────────────────┐
│ 🌐 打开网页       │ ← 第1个任务
│ URL: baidu.com   │
└──────────────────┘
        ↓
┌──────────────────┐
│ ⏱️  等待          │ ← 第2个任务
│ 时长: 2000ms     │
└──────────────────┘
        ↓
┌──────────────────┐
│ ⌨️  输入文本      │ ← 第3个任务
│ 选择器: #kw      │
│ 文本: Vue 3      │
└──────────────────┘
        ↓
┌──────────────────┐
│ 👆 点击元素       │ ← 第4个任务
│ 选择器: #su      │
└──────────────────┘
```

### 第4步：使用控制流

#### IF 条件分支

```
┌────────────────────────────────────────┐
│ ❓ IF 条件                         [▼] │
│ 条件: count > 5                        │
├────────────────────────────────────────┤
│                                        │
│ ┌────────────────────────────────────┐ │
│ │ ✓ THEN (条件为真)                  │ │
│ ├────────────────────────────────────┤ │
│ │ ┌────────────────────────────────┐ │ │
│ │ │  拖拽任务到这里                 │ │ │
│ │ └────────────────────────────────┘ │ │
│ └────────────────────────────────────┘ │
│                                        │
│ ┌────────────────────────────────────┐ │
│ │ ✗ ELSE (条件为假)                  │ │
│ ├────────────────────────────────────┤ │
│ │ ┌────────────────────────────────┐ │ │
│ │ │  拖拽任务到这里                 │ │ │
│ │ └────────────────────────────────┘ │ │
│ └────────────────────────────────────┘ │
└────────────────────────────────────────┘
```

#### FOREACH 循环

```
┌────────────────────────────────────────┐
│ 📋 FOREACH 遍历                    [▼] │
│ 数组: ["Vue", "React", "Angular"]      │
│ 变量: framework                        │
├────────────────────────────────────────┤
│                                        │
│ ┌────────────────────────────────────┐ │
│ │ 🔄 循环体                          │ │
│ ├────────────────────────────────────┤ │
│ │   ┌──────────────────────────┐     │ │
│ │   │ ⌨️  输入文本              │     │ │
│ │   │ 文本: {framework}        │     │ │
│ │   └──────────────────────────┘     │ │
│ │         ↓                          │ │
│ │   ┌──────────────────────────┐     │ │
│ │   │ 👆 点击元素               │     │ │
│ │   └──────────────────────────┘     │ │
│ │         ↓                          │ │
│ │   ┌──────────────────────────┐     │ │
│ │   │ ⏱️  等待 2000ms           │     │ │
│ │   └──────────────────────────┘     │ │
│ └────────────────────────────────────┘ │
└────────────────────────────────────────┘
```

### 第5步：运行工作流

```
点击 [运行工作流] 按钮

执行中的任务会高亮显示：

┌──────────────────────────┐
│ 🌐 打开网页          [▼] │  ← ✅ 已完成
│ URL: baidu.com           │
└──────────────────────────┘
        ↓
┌──────────────────────────┐
│ ⏱️  等待             [▼] │  ← 🔵 执行中
│ 时长: 2000ms             │
│ 状态: ⚡ 执行中           │
└──────────────────────────┘
        ↓
┌──────────────────────────┐
│ ⌨️  输入文本         [▼] │  ← ⏳ 等待中
│ 文本: Vue 3              │
└──────────────────────────┘
```

### 第6步：查看日志

```
右下角日志面板

┌─────────────────────────────────────┐
│ 执行日志                      [清除] │
├─────────────────────────────────────┤
│ 10:25:30 ℹ️ 开始执行工作流...        │
│ 10:25:30 ℹ️ 开始执行: 打开网页        │
│ 10:25:31 ✅ 完成: 打开网页            │
│ 10:25:31 ℹ️ 开始执行: 等待            │
│ 10:25:33 ✅ 完成: 等待                │
│ 10:25:33 ℹ️ 开始执行: 输入文本        │
│ 10:25:34 ✅ 完成: 输入文本            │
│ 10:25:34 ✅ 工作流执行完成！          │
└─────────────────────────────────────┘
```

## 🎮 任务操作按钮

每个任务都有操作按钮：

```
┌─────────────────────────────────────────┐
│ 🌐 打开网页            [▼][↑][↓][×]    │
│ URL: https://www.baidu.com              │
└─────────────────────────────────────────┘
                         │  │  │  │
                         │  │  │  └─ × 删除
                         │  │  └──── ↓ 下移
                         │  └─────── ↑ 上移
                         └────────── ▼ 展开/收起
```

## 📊 完整示例

### 示例：自动化搜索流程

```
┌──────────────────────────────────────────────────────────┐
│                     工作流画布 (8个任务)                   │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  1️⃣ ┌────────────────────────────────┐                   │
│     │ 🌐 打开网页                     │                   │
│     │ URL: https://www.baidu.com     │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  2️⃣ ┌────────────────────────────────┐                   │
│     │ ⏱️  等待                        │                   │
│     │ 时长: 2000ms                   │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  3️⃣ ┌────────────────────────────────┐                   │
│     │ ⌨️  输入文本                    │                   │
│     │ 选择器: #kw                    │                   │
│     │ 文本: Vue 3 工作流              │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  4️⃣ ┌────────────────────────────────┐                   │
│     │ 👆 点击元素                     │                   │
│     │ 选择器: #su                    │                   │
│     │ 说明: 搜索按钮                  │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  5️⃣ ┌────────────────────────────────┐                   │
│     │ ⏱️  等待                        │                   │
│     │ 时长: 3000ms                   │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  6️⃣ ┌────────────────────────────────┐                   │
│     │ 📝 获取文本                     │                   │
│     │ 选择器: .result                │                   │
│     │ 变量: searchResult             │                   │
│     └────────────────────────────────┘                   │
│              ↓                                            │
│  7️⃣ ┌────────────────────────────────┐                   │
│     │ 📸 截图                         │                   │
│     │ 文件名: search-result.png      │                   │
│     └────────────────────────────────┘                   │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

## 🎯 快捷操作

### 键盘快捷键（未来可实现）

- `Ctrl + Z` - 撤销
- `Ctrl + Y` - 重做
- `Ctrl + S` - 保存
- `Delete` - 删除选中任务
- `Ctrl + C` - 复制任务
- `Ctrl + V` - 粘贴任务

### 鼠标操作

- **左键单击** - 展开/收起任务
- **拖拽** - 移动任务
- **右键** - 上下文菜单（未来可实现）
- **双击** - 编辑任务（未来可实现）

## 💡 使用技巧

### 技巧1：快速构建

```
1. 先添加所有基础任务
2. 再用控制流包裹需要的部分
3. 最后调整顺序和配置
```

### 技巧2：模块化设计

```
将相同功能的任务组合在一起
使用TRY/CATCH包裹不稳定的操作
```

### 技巧3：变量传递

```
1. 📝 获取文本 (保存到变量)
2. 在后续任务中使用变量
3. IF条件中引用变量判断
```

### 技巧4：循环优化

```
- WHILE: 用于条件未知的循环
- FOREACH: 用于已知数组的遍历
- 始终设置最大迭代次数防止死循环
```

## 🔍 调试技巧

### 查看执行状态

1. 观察任务高亮 - 当前执行的任务
2. 查看日志面板 - 详细执行信息
3. 检查变量值 - 在控制台查看（开发者工具）

### 常见问题排查

| 问题 | 原因 | 解决方案 |
|------|------|----------|
| 任务不执行 | 条件不满足 | 检查条件表达式 |
| 循环不停止 | 条件始终为真 | 设置正确的退出条件 |
| 变量未定义 | 变量未赋值 | 先执行获取文本任务 |
| 拖拽无效 | 区域不正确 | 拖到高亮的区域 |

## 🎨 界面说明

### 颜色含义

- **蓝色** - 基础任务
- **紫色** - 工具栏
- **绿色** - THEN分支/成功日志
- **红色** - ELSE分支/错误日志
- **橙色** - TRY块
- **蓝色** - WHILE/FOREACH循环

### 图标含义

- **🌐** - 网络相关
- **👆** - 交互操作
- **⌨️** - 输入操作
- **⏱️** - 时间相关
- **📝** - 数据获取
- **📸** - 截图保存
- **❓** - 条件判断
- **🔄** - 循环重复
- **📋** - 列表遍历
- **🛡️** - 异常保护

## 📚 更多资源

- 📖 [README.md](README.md) - 完整项目文档
- 🚀 [QUICKSTART.md](QUICKSTART.md) - 快速开始指南
- 📁 [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - 项目结构详解
- 📊 [SUMMARY.md](SUMMARY.md) - 项目完成总结

---

**提示**: 这是一个可视化的交互式工具，最好的学习方式就是动手尝试！

🎉 **开始创建你的第一个工作流吧！**
