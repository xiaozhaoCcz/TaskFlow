# 🚀 快速开始指南

## 第一步：安装依赖

打开终端，在项目根目录执行：

```bash
npm install
```

这会安装 Vue 3 和 Vite 等必要的依赖包。

## 第二步：启动开发服务器

```bash
npm run dev
```

成功启动后，浏览器会自动打开 `http://localhost:3000`

## 第三步：开始使用

### 1️⃣ 拖拽任务

从左侧面板拖拽任务到右侧画布：

- **基础任务**：打开网页、点击元素、输入文本、等待、获取文本、截图
- **控制流**：IF条件、WHILE循环、FOREACH遍历、TRY异常处理

### 2️⃣ 配置任务

点击任务卡片展开配置：

- 修改任务参数
- 设置条件表达式
- 配置循环变量

### 3️⃣ 搭建工作流

像搭积木一样从上往下构建：

```
打开网页
  ↓
输入文本
  ↓
点击按钮
  ↓
IF 条件判断
  ├─ THEN: 执行任务A
  └─ ELSE: 执行任务B
  ↓
截图保存
```

### 4️⃣ 运行工作流

点击右上角"运行工作流"按钮：

- 实时显示执行进度
- 查看执行日志
- 观察任务状态

## 💡 简单示例

### 示例：自动搜索

1. 从左侧拖拽"打开网页"到画布
   - 配置URL: `https://www.baidu.com`

2. 拖拽"等待"任务
   - 配置等待时间: `1000`ms

3. 拖拽"输入文本"任务
   - 选择器: `#kw`
   - 文本: `Vue 3 工作流`

4. 拖拽"点击元素"任务
   - 选择器: `#su`

5. 拖拽"截图"任务
   - 文件名: `search-result.png`

点击"运行工作流"查看效果！

## 🎯 控制流示例

### IF 条件分支

1. 拖拽"IF 条件"到画布
2. 点击展开，配置条件: `count > 5`
3. 在 THEN 区域拖入任务（条件为真时执行）
4. 在 ELSE 区域拖入任务（条件为假时执行）

### FOREACH 循环

1. 拖拽"FOREACH 遍历"到画布
2. 配置数组: `["Vue", "React", "Angular"]`
3. 配置变量名: `framework`
4. 在循环体区域拖入要重复执行的任务

### WHILE 循环

1. 拖拽"WHILE 循环"到画布
2. 配置条件: `count < 3`
3. 配置最大迭代: `10`
4. 在循环体中拖入要重复的任务

## ⚙️ 高级功能

### 变量使用

- `get_text` 任务可以保存数据到变量
- 在后续任务中使用 `{变量名}` 引用
- 条件表达式中可以使用变量

### 任务管理

- **↑** 上移任务
- **↓** 下移任务
- **×** 删除任务
- **▶/▼** 展开/收起（控制流任务）

### 嵌套结构

控制流任务可以无限嵌套：

```
IF 条件A
  ├─ THEN
  │   └─ WHILE 循环
  │       └─ FOREACH 遍历
  │           └─ 基础任务
  └─ ELSE
      └─ TRY 异常处理
          ├─ TRY块
          └─ CATCH块
```

## 📝 注意事项

1. **执行顺序**：任务从上到下依次执行
2. **条件表达式**：使用JavaScript语法，如 `count > 5`, `text.includes("Vue")`
3. **变量作用域**：在FOREACH和WHILE中定义的变量在循环内有效
4. **最大迭代**：WHILE循环设置最大迭代次数防止死循环
5. **异常处理**：使用TRY/CATCH包裹可能出错的任务

## 🆘 常见问题

**Q: 如何保存工作流？**  
A: 目前是纯前端实现，刷新会丢失。可以扩展添加JSON导入导出功能。

**Q: 任务不能拖拽？**  
A: 确保拖拽到正确的区域（画布或分支区域），等待高亮提示。

**Q: 条件表达式报错？**  
A: 检查语法是否正确，确保使用的变量已经定义。

**Q: 循环不执行？**  
A: 检查循环条件是否满足，查看执行日志获取详细信息。

## 🎉 开始创建你的工作流吧！

祝你使用愉快！如有问题，请查看 README.md 获取更多信息。
